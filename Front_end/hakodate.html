<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hakodate ¬∑ Explore Japan</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Firebase init (auth mini like other pages) -->
    <script type="module" src="/static/js/firebase-init.js?v=3"></script>

    <link rel="icon" href="static/Image/r-ÂÜ¨„ÅÆÂáΩÈ§®Â±±Â§úÊôØ.jpg" />
  </head>
  <body class="bg-slate-50 text-slate-800">

    <!-- NAV (match index/cities/itineraries) -->
    <nav class="sticky top-0 z-50 bg-[#222] text-white">
      <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3">
        <div class="flex flex-wrap items-center gap-3">
          <a href="index.html" class="font-semibold tracking-wide">Home</a>
          <a href="itineraries.html" class="hover:underline">Recommended Itineraries</a>
          <a href="cities.html" class="hover:underline">Explore Cities</a>
          <a href="tips.html" class="hover:underline">Travel Tips</a>
          <a href="my_itineraries.html" class="hover:underline">My Itineraries</a>
        </div>
        <div id="auth-mini" class="text-sm">
          <span id="auth-name" class="font-medium">Not signed in</span>
          <span class="text-white/60">¬∑</span>
          <a href="/auth.html" id="auth-link"
             class="ml-1 inline-block rounded-md bg-white px-2.5 py-1 font-semibold text-blue-600 hover:bg-slate-100">Sign in</a>
        </div>
      </div>
      <script type="module">
        import { auth } from "/static/js/firebase-init.js?v=3";
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";
        const nameEl = document.getElementById('auth-name');
        const linkEl = document.getElementById('auth-link');
        onAuthStateChanged(auth, (user) => {
          if (user) {
            nameEl.textContent = user.displayName || user.email;
            linkEl.textContent = 'Sign out';
            linkEl.href = '#';
            linkEl.onclick = async (e) => { e.preventDefault(); await signOut(auth); };
            linkEl.className = 'ml-1 inline-block rounded-md bg-white px-2.5 py-1 font-semibold text-slate-800 hover:bg-slate-100';
          } else {
            nameEl.textContent = 'Not signed in';
            linkEl.textContent = 'Sign in';
            linkEl.href = '/auth.html';
            linkEl.onclick = null;
            linkEl.className = 'ml-1 inline-block rounded-md bg-white px-2.5 py-1 font-semibold text-blue-600 hover:bg-slate-100';
          }
        });
      </script>
    </nav>

    <!-- Hero -->
    <section class="mx-auto max-w-6xl px-4 pt-6">
      <div class="overflow-hidden rounded-3xl shadow-lg">
        <img
          src="static/Image/r-ÂÜ¨„ÅÆÂáΩÈ§®Â±±Â§úÊôØ.jpg"
          alt="Hakodate night view from Mt. Hakodate"
          class="h-[44vh] w-full object-cover md:h-[56vh]"
          loading="eager"
        />
      </div>

      <!-- Intro -->
      <div class="mx-auto max-w-3xl py-8">
        <h1 class="text-4xl font-extrabold tracking-tight md:text-5xl">Hakodate</h1>
        <p class="mt-3 text-lg leading-relaxed text-slate-600">
          Hakodate is a historic port city at the southern tip of Hokkaid≈ç. Think sweeping night views from
          Mount Hakodate, ultra-fresh seafood at the Morning Market, and a mix of Japanese and Western
          architecture from its early open-port days. Explore star-shaped <strong>Gory≈çkaku</strong>,
          stroll <strong>Motomachi</strong>, and enjoy the relaxed coastal vibe.
        </p>

        <!-- Quick section buttons -->
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="#attractions" class="rounded-full bg-blue-600 px-5 py-2.5 text-white shadow hover:bg-blue-700">Top Attractions</a>
          <a href="#daytrip" class="rounded-full bg-blue-600 px-5 py-2.5 text-white shadow hover:bg-blue-700">Onuma Park</a>
          <a href="#restaurants" class="rounded-full bg-blue-600 px-5 py-2.5 text-white shadow hover:bg-blue-700">Restaurants</a>
        </div>
      </div>
    </section>

    <main class="mx-auto max-w-6xl space-y-16 px-4 pb-20">
      <!-- Attractions -->
      <section id="attractions">
        <header class="mb-6">
          <h2 class="text-2xl font-bold md:text-3xl">Top Attractions</h2>
          <p class="mt-1 text-sm text-slate-600">Iconic viewpoints, markets, and historic districts.</p>
        </header>

        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          <figure class="overflow-hidden rounded-xl border bg-white shadow-sm">
            <img src="static/Image/210419K01-1024x683.jpg" alt="Gory≈çkaku Fort" class="h-48 w-full object-cover" loading="lazy" />
            <figcaption class="p-3 text-sm text-slate-700">Gory≈çkaku Fort</figcaption>
          </figure>
          <figure class="overflow-hidden rounded-xl border bg-white shadow-sm">
            <img src="static/Image/db8y1z8sewiq7dl6ge5u.jpg" alt="Mount Hakodate" class="h-48 w-full object-cover" loading="lazy" />
            <figcaption class="p-3 text-sm text-slate-700">Mount Hakodate Night View</figcaption>
          </figure>
          <figure class="overflow-hidden rounded-xl border bg-white shadow-sm">
            <img src="static/Image/slope_sec-2-2.jpg" alt="Motomachi slopes" class="h-48 w-full object-cover" loading="lazy" />
            <figcaption class="p-3 text-sm text-slate-700">Motomachi Slopes & Churches</figcaption>
          </figure>
        </div>

        <details class="group mt-6 rounded-xl border bg-white p-4">
          <summary class="flex cursor-pointer list-none items-center justify-between">
            <span class="text-base font-semibold">View Hakodate Attractions</span>
          </summary>
          <ul id="attractions-list" class="mt-4 grid gap-2 sm:grid-cols-2"></ul>
        </details>
      </section>

      <!-- Day Trip: ≈ånuma Park -->
      <section id="daytrip">
        <header class="mb-6">
          <h2 class="text-2xl font-bold md:text-3xl">≈ånuma National Park (Half-Day)</h2>
          <p class="mt-1 text-sm text-slate-600">Islets, bridges, lake views ‚Äî easy from Hakodate.</p>
        </header>

        <div class="overflow-hidden rounded-2xl border bg-white shadow-sm">
          <img
            src="static/Image/onuma1 (1).jpg"
            alt="≈ånuma Park"
            class="h-64 w-full object-cover md:h-72"
            loading="lazy"
          />
        </div>

        <details class="group mt-6 rounded-xl border bg-white p-4">
          <summary class="flex cursor-pointer list-none items-center justify-between">
            <span class="text-base font-semibold">Explore ≈ånuma Park üèûÔ∏è</span>
          </summary>
          <ul id="daytrip-list" class="mt-4 grid gap-2 sm:grid-cols-2"></ul>
        </details>
      </section>

      <!-- Restaurants -->
      <section id="restaurants">
        <header class="mb-6">
          <h2 class="text-2xl font-bold md:text-3xl">Restaurants</h2>
          <p class="mt-1 text-sm text-slate-600">Morning Market bowls, live squid, classic seafood.</p>
        </header>

        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          <img src="static/Image/Live-squid-Gyosanko-Hakodate.jpg" alt="Live squid" class="h-48 w-full rounded-xl object-cover" loading="lazy" />
          <img src="static/Image/caption (1).jpg" alt="Seafood rice bowl" class="h-48 w-full rounded-xl object-cover" loading="lazy" />
          <img src="static/Image/64993655.jpg" alt="Crab and seafood" class="h-48 w-full rounded-xl object-cover" loading="lazy" />
        </div>

        <details class="group mt-6 rounded-xl border bg-white p-4">
          <summary class="flex cursor-pointer list-none items-center justify-between">
            <span class="text-base font-semibold">Where to Eat in Hakodate üç£</span>
          </summary>
          <ul id="restaurants-list" class="mt-4 grid gap-2 sm:grid-cols-2"></ul>
        </details>
      </section>
    </main>

    <!-- Bottom CTA -->
    <section class="mx-auto max-w-6xl px-4 pb-10">
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm sm:flex sm:items-center sm:justify-between">
        <div class="max-w-2xl">
          <h3 class="text-xl font-semibold text-slate-900">Planning Hokkaid≈ç (Hakodate + Sapporo)?</h3>
          <p class="mt-1 text-sm text-slate-600">Use the combined planner to add days, drop in places, and save to your account.</p>
        </div>
        <a href="plan_tokyo_hokkaido.html" class="mt-4 inline-flex rounded-lg bg-blue-600 px-5 py-2.5 font-medium text-white shadow hover:bg-blue-700 sm:mt-0">
          Plan this route
        </a>
      </div>
    </section>

    <footer class="py-8 text-center text-sm text-slate-500">
      <div class="mx-auto max-w-6xl px-4">
        &copy; 2025 Explore Japan ¬∑ Bao Tran
      </div>
    </footer>

    <!-- Simple one-function loader (matches your other pages) -->
    <script>
      function fetchData(id, file) {
        const ul = document.getElementById(id);
        if (!ul) return;

        fetch('/data/Hakodate/' + file)
          .then((res) => {
            if (!res.ok) throw new Error(file + ' missing');
            return res.json();
          })
          .then((data) => {
            ul.innerHTML = '';
            data.forEach((item) => {
              const li = document.createElement('li');
              const a  = document.createElement('a');

              a.href = item.google_map_url || item.google_maps_url || '#';
              a.target = '_blank';
              a.rel = 'noopener';
              a.textContent = item.name || 'Untitled';
              a.style.color = '#007BFF';
              a.style.textDecoration = 'none';

              li.appendChild(a);

              const extra = item.category ? ' (' + item.category + ')' :
                            item.type ? ' - ' + item.type : '';
              if (extra) {
                const span = document.createElement('span');
                span.textContent = extra;
                li.appendChild(span);
              }

              ul.appendChild(li);
            });
          })
          .catch((err) => {
            console.warn(err.message);
            ul.innerHTML = '<li>Could not load: ' + file + '</li>';
          });
      }

      // Load lists (keep your filenames)
      fetchData('attractions-list', 'Hakodate_Attractions.json');
      fetchData('daytrip-list', 'Onuma National Park Half Day Trip.json');
      fetchData('restaurants-list', 'Hakodate_Restaurants.json');
    </script>
  </body>
</html>
